

股票模拟器V1.0.0

概要设计










编 写	招永江	编写 时间	2013-4-29
文档版本	V1.0.0


 
文档修订摘要
日期	修订号	描述	著者	日期
2013-4-29	v1.0.0	创建文档	招永江	2014-4-29
				
				
				
				
				
				
				
				
				
				
				
				
				
 
目  录
第1章 引言	1
1.1 文档用途	1
1.2 阅读对象	1
1.3 名词解释：	1
1.4 参考资料	1
第2章 概述	2
2.1 系统概述	2
2.2 系统功能性需求	2
2.3 设计约束	2
第3章 系统设计策略	3
3.1 基础结构	3
3.2 设计策略	3
第4章 系统体系结构	4
4.1 系统总体结构	4
4.2 子系统结构与功能	5
第5章 系统环境	7
5.1 开发环境	7
5.2 测试环境	7
5.3 运行环境	7
5.4 设计工具要求	7

 
图表目录
图 4.1系统总体结构图	4
图 4.2.1获取历史行情、公司信息协作图	5
图 4.2.2实时行情推送到客户端协作图	6
 




第1章 引言
1.1 文档用途
概要描述股票模拟器（项目的英文简称：StockInfo）的主要功能，主体设计。
1.2 阅读对象
	产品设计工程师
	产品开发工程师
	产品测试工程师
	其他相关人员
1.3 名词解释：
名词	解 释
RESTFul	REST (REpresentational State Transfer) 描述了一个架构样式的网络系统
websocket	WebSocket protocol 是HTML5一种新的协议(protocol)。它是实现了浏览器与服务器全双工通信
1.4 参考资料
序号	文献名称
1	nodejs API
2	socket.io API




第2章 概述
2.1 系统概述
股票模拟器（项目的英文简称：StockInfo），根据产品目标：模拟股票的实时行情。
2.2 系统功能性需求
股票模拟器模块功能性需求包括：
	行情服务器（StockInfoServer）：若干股票按照不一样的频率，实时提供行情数据。
	消息推送中间件：收到行情服务器传过来的实时行情，通过websocket推送到客户端。
2.3 设计约束
	消息推送中间件要用Nodejs实现。
	行情服务器产生JSON或XML格式行情数据，通过中间件以WebSocket的方式推送给浏览器
	行情服务器是一个独立的命令行程序，它运行后不断生成股票行情，可以用Java、C/C++等编译语言开发，也可以用脚本语言（Python、Groovy、JavaScript、其他）





第3章 系统设计策略
3.1 基础结构
股票模拟器分为行情服务器（StockInfoServer）、web服务器两个部分，其中web服务器包括：消息推送中间件、http服务器、网络连接中间件三个模块。
	行情服务器：建立一个线程池，管理多个任务，每个线程管理一个任务，每个任务按不同频率生成某个公司的股票的实时行情；
	消息推送中间件：主动连接行情服务器，当连接成功，获得行情后，通过websocket把消息推送给客户端。
	http服务器：响应客户端的页面请求、数据请求。
	网络连接中间件：所有请求连接行情服务器的请求，都要通过网络连接中间件来调度
3.2 设计策略
根据产品的需求和发展战略，确定设计策略如下：
扩展策略：公司列表、任务列表都采用XML来动态配置，采用XStream技术来解析XML文档，可以方便地扩展。




第4章 系统体系结构
4.1 系统总体结构
本系统的总体结构图如下：
 
图 4.1系统总体结构图4.2 子系统结构与功能
 
图 4.2.1获取历史行情、公司信息协作图 
图 4.2.2实时行情推送到客户端协作图





第5章 系统环境
5.1 开发环境
开发工具：WebStorm 6.0.1 + IDEA IntelliJ11.0。
5.2 测试环境
测试工具：无。
5.3 运行环境
	操作系统：ubuntu  + JDK1.6+ant
	应用服务器：nodejs(Express)
5.4 设计工具要求
	画图工具：Enterprise Architect 8
	文档工具：Office word 2003
